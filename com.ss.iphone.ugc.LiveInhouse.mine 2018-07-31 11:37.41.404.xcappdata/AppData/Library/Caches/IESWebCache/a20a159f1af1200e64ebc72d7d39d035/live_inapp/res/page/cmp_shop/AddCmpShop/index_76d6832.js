define("page/cmp_shop/AddCmpShop/index.vue",function(e,t,a){function d(e){return e&&e.__esModule?e:{"default":e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(e[d]=a[d])}return e},i.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(e("component/cmp_shop/SearchBar/index.vue")),n=d(e("component/Bus/index")),s=d(e("node_modules/axios/index")),u=d(e("node_modules/byted-via-hotsoon/dist/via.hotsoon.min")),r={data:function(){return{selectedTap:"featured",subPid:"",openId:"",getSubPidFlag:!1,selectedId:""}},created:function(){var e=this.$route.path;(e.indexOf("guide")>0||e.indexOf("taobao")>0)&&this.typeSelected("taobao")},mounted:function(){var e=this;n.default.$on("sendSaveGoods",function(t){e.selectedId=t[0].promotion_id}),n.default.$on("deleteGoods",function(){e.selectedId=""})},components:{SearchBar:o.default},methods:{typeSelected:function(e){var t=this;if(this.selectedTap!==e){if("taobao"===e){if(!this.getSubPidFlag)return void this.getSubPid().then(function(){n.default.$emit("ctrSaveCard",!!t.subPid),e=t.subPid?"taobao":"guide",t.selectedTap=e,t.$router.replace({name:e,query:i({},t.$route.query,{selected:t.selectedId,openId:t.openId})})});e=this.subPid?"taobao":"guide"}n.default.$emit("ctrSaveCard","guide"!==e),this.selectedTap=e,this.$router.replace({name:e,query:i({},this.$route.query,{selected:this.selectedId,openId:this.openId})})}},search:function(e){n.default.$emit("searchlist",e)},getSubPid:function(){var e=this,t="/web/api/taobao/subpid/deatil/";return s.default.get(t,{params:{},timeout:5e3}).then(function(t){e.getSubPidFlag=!0,e.subPid=t.data.data.subpid,e.openId=t.data.data.openid}).catch(function(){u.default.app.showToast({title:"网络请求失败，请重新尝试"})})}}};t.default=r;var c;c=t&&t.__esModule&&t.default?t.default:a.exports,c.render=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-cmp-shop"},[a("div",{staticClass:"tap-wrapper"},[a("div",{"class":["item",{active:"featured"===e.selectedTap}],on:{click:function(){e.typeSelected("featured")}}},[a("span",[e._v("精选联盟")])]),e._v(" "),a("div",{"class":["item",{active:"taobao"===e.selectedTap||"guide"===e.selectedTap}],on:{click:function(){e.typeSelected("taobao")}}},[a("span",[e._v("淘宝联盟")])])]),e._v(" "),a("SearchBar",{directives:[{name:"show",rawName:"v-show",value:"guide"!==e.selectedTap,expression:"selectedTap !== 'guide'"}],attrs:{type:e.selectedTap},on:{search:e.search}}),e._v(" "),a("router-view")],1)},c.staticRenderFns=[],c._scopeId="_v-24af2987"});